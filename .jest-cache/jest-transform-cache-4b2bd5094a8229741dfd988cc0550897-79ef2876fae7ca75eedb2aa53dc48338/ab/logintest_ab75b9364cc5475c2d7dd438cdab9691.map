{"version":3,"sources":["C:\\Users\\User\\OneDrive\\Desktop\\6senseHQ-HireX-client\\__test__\\login.test.tsx"],"sourcesContent":["import '@testing-library/jest-dom';\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport { Provider } from 'react-redux';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { store } from '../store/store';\nimport Login from '../app/(auth)/login/page';\nimport axios from 'axios';\n\n// Mock NextAuth and its methods\njest.mock('next-auth/react', () => ({\n  useSession: jest.fn(() => ({ data: null, status: 'unauthenticated' })),\n  signIn: jest.fn(),\n  signOut: jest.fn(),\n}));\n\njest.mock('next-auth/providers/google', () => ({\n  __esModule: true,\n  default: jest.fn(() => ({\n    id: 'google',\n    name: 'Google',\n    type: 'oauth',\n    clientId: 'mock-client-id',\n    clientSecret: 'mock-client-secret',\n  })),\n}));\n\njest.mock('axios', () => ({\n  post: jest.fn(() =>\n    Promise.resolve({\n      data: {\n        tokens: {\n          access_token: 'mock-access-token',\n          refresh_token: 'mock-refresh-token',\n        },\n      },\n    })\n  ),\n}));\n\nconst queryClient = new QueryClient();\n\ndescribe('Login Page', () => {\n  beforeEach(() => {\n    render(\n      <Provider store={store}>\n        <QueryClientProvider client={queryClient}>\n          <Login />\n        </QueryClientProvider>\n      </Provider>\n    );\n  });\n\n  it('renders the logo', () => {\n    const logo = screen.getByAltText('Pattern50 Logo');\n    expect(logo).toBeInTheDocument();\n  });\n\n  it('renders the title', () => {\n    const title = screen.getByRole('heading', { name: /login/i });\n    expect(title).toBeInTheDocument();\n  });\n\n  it('calls signIn with Google provider on Google button click', async () => {\n    const googleButton = screen.getByText('Continue with Google');\n    fireEvent.click(googleButton);\n\n    const { signIn } = require('next-auth/react');\n    expect(signIn).toHaveBeenCalledWith('google', { redirect: false });\n  });\n\n  it('calls signIn with credentials on login button click', async () => {\n    const loginButton = screen.getByRole('button', { name: /login/i });\n    fireEvent.click(loginButton);\n\n    const { signIn } = require('next-auth/react');\n    expect(signIn).toHaveBeenCalledWith('credentials', {\n      redirect: false,\n      email: '',\n      password: '',\n    });\n  });\n\n  it('handles axios mock call', async () => {\n    const axiosMock = require('axios');\n    await axiosMock.post('http://192.168.0.158:8000/auth/login', {\n      email: 'test@example.com',\n      password: 'password123',\n    });\n\n    expect(axiosMock.post).toHaveBeenCalledWith(\n      'http://192.168.0.158:8000/auth/login',\n      { email: 'test@example.com', password: 'password123' },\n      { headers: { 'Content-Type': 'application/json' } }\n    );\n  });\n});\n"],"names":["jest","mock","useSession","fn","data","status","signIn","signOut","__esModule","default","id","name","type","clientId","clientSecret","post","Promise","resolve","tokens","access_token","refresh_token","queryClient","QueryClient","describe","beforeEach","render","Provider","store","QueryClientProvider","client","Login","it","logo","screen","getByAltText","expect","toBeInTheDocument","title","getByRole","googleButton","getByText","fireEvent","click","require","toHaveBeenCalledWith","redirect","loginButton","email","password","axiosMock","headers"],"mappings":";AAQA,gCAAgC;AAChCA,KAAKC,IAAI,CAAC,mBAAmB,IAAO,CAAA;QAClCC,YAAYF,KAAKG,EAAE,CAAC,IAAO,CAAA;gBAAEC,MAAM;gBAAMC,QAAQ;YAAkB,CAAA;QACnEC,QAAQN,KAAKG,EAAE;QACfI,SAASP,KAAKG,EAAE;IAClB,CAAA;AAEAH,KAAKC,IAAI,CAAC,8BAA8B,IAAO,CAAA;QAC7CO,YAAY;QACZC,SAAST,KAAKG,EAAE,CAAC,IAAO,CAAA;gBACtBO,IAAI;gBACJC,MAAM;gBACNC,MAAM;gBACNC,UAAU;gBACVC,cAAc;YAChB,CAAA;IACF,CAAA;AAEAd,KAAKC,IAAI,CAAC,SAAS,IAAO,CAAA;QACxBc,MAAMf,KAAKG,EAAE,CAAC,IACZa,QAAQC,OAAO,CAAC;gBACdb,MAAM;oBACJc,QAAQ;wBACNC,cAAc;wBACdC,eAAe;oBACjB;gBACF;YACF;IAEJ,CAAA;;;;;QArCO;uBACmC;4BACjB;4BACwB;uBAC3B;6DACJ;;;;;;AAkClB,MAAMC,cAAc,IAAIC,uBAAW;AAEnCC,SAAS,cAAc;IACrBC,WAAW;QACTC,IAAAA,aAAM,gBACJ,qBAACC,oBAAQ;YAACC,OAAOA,YAAK;sBACpB,cAAA,qBAACC,+BAAmB;gBAACC,QAAQR;0BAC3B,cAAA,qBAACS,aAAK;;;IAId;IAEAC,GAAG,oBAAoB;QACrB,MAAMC,OAAOC,aAAM,CAACC,YAAY,CAAC;QACjCC,OAAOH,MAAMI,iBAAiB;IAChC;IAEAL,GAAG,qBAAqB;QACtB,MAAMM,QAAQJ,aAAM,CAACK,SAAS,CAAC,WAAW;YAAE3B,MAAM;QAAS;QAC3DwB,OAAOE,OAAOD,iBAAiB;IACjC;IAEAL,GAAG,4DAA4D;QAC7D,MAAMQ,eAAeN,aAAM,CAACO,SAAS,CAAC;QACtCC,gBAAS,CAACC,KAAK,CAACH;QAEhB,MAAM,EAAEjC,MAAM,EAAE,GAAGqC,QAAQ;QAC3BR,OAAO7B,QAAQsC,oBAAoB,CAAC,UAAU;YAAEC,UAAU;QAAM;IAClE;IAEAd,GAAG,uDAAuD;QACxD,MAAMe,cAAcb,aAAM,CAACK,SAAS,CAAC,UAAU;YAAE3B,MAAM;QAAS;QAChE8B,gBAAS,CAACC,KAAK,CAACI;QAEhB,MAAM,EAAExC,MAAM,EAAE,GAAGqC,QAAQ;QAC3BR,OAAO7B,QAAQsC,oBAAoB,CAAC,eAAe;YACjDC,UAAU;YACVE,OAAO;YACPC,UAAU;QACZ;IACF;IAEAjB,GAAG,2BAA2B;QAC5B,MAAMkB,YAAYN,QAAQ;QAC1B,MAAMM,UAAUlC,IAAI,CAAC,wCAAwC;YAC3DgC,OAAO;YACPC,UAAU;QACZ;QAEAb,OAAOc,UAAUlC,IAAI,EAAE6B,oBAAoB,CACzC,wCACA;YAAEG,OAAO;YAAoBC,UAAU;QAAc,GACrD;YAAEE,SAAS;gBAAE,gBAAgB;YAAmB;QAAE;IAEtD;AACF"}