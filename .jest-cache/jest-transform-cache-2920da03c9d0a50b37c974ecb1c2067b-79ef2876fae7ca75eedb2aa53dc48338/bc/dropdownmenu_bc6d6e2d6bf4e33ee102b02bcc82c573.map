{"version":3,"sources":["C:\\Users\\khana\\OneDrive\\Computer Files\\Desktop\\6senseHQ-HireX-client\\app\\(dashboards)\\create-job\\_components\\dropdownmenu.tsx"],"sourcesContent":["'use client';\nimport { Button } from '@/components/ui/button';\nimport { Check, MagnifyingGlass } from '@phosphor-icons/react';\nimport { PlusCircle } from 'lucide-react';\nimport React, { useState, useEffect, useRef, ChangeEvent } from 'react';\nimport Tag from '../_components/tag';\nimport { Controller } from 'react-hook-form';\nimport { DropdownMenuProps } from '@/types/Job/type';\n\nconst Dropdownmenu: React.FC<DropdownMenuProps> = ({ control, name }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const [newSkill, setNewSkill] = useState('');\n  const [showNewSkillInput, setShowNewSkillInput] = useState(false);\n\n  const skills = [\n    'C++',\n    'TypeScript',\n    'MongoDB',\n    'JavaScript',\n    'React',\n    'Node.js',\n    'Python',\n    'Django',\n    'Java',\n    'Spring Boot',\n    'C#',\n    'ASP.NET',\n    'Ruby on Rails',\n    'Angular',\n    'Vue.js',\n    'SQL',\n    'NoSQL',\n    'AWS',\n    'Azure',\n    'Docker',\n    'Kubernetes',\n    'Git',\n    'CI/CD',\n    'Agile Methodologies',\n    'Scrum',\n  ];\n\n  const toggleDropdown = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleSearchChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setSearchQuery(event.target.value);\n  };\n\n  const filteredSkills = skills.filter((skill) =>\n    skill.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const handleClickOutside = (event: MouseEvent) => {\n    if (\n      dropdownRef.current &&\n      !dropdownRef.current.contains(event.target as Node)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  const handleNewSkillChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setNewSkill(event.target.value);\n  };\n\n  const handleAddNewSkill = (field: any) => {\n    if (newSkill && !field.value?.includes(newSkill)) {\n      const updatedSkills = [...(field.value || []), newSkill];\n      field.onChange(updatedSkills);\n      setNewSkill('');\n      setShowNewSkillInput(false);\n    }\n  };\n\n  const handleAddmore = () => {\n    setShowNewSkillInput(true);\n    setIsOpen(false);\n  };\n\n  return (\n    <Controller\n      name={name}\n      control={control}\n      render={({ field }) => (\n        <div className=\"relative\">\n          <div className=\"flex max-w-[156px] items-center justify-center rounded-md border border-dashed bg-white px-[14px] py-1\">\n            <Button\n              type=\"button\"\n              variant=\"withoutBorder\"\n              size=\"dropdownsize\"\n              className=\"text-twelve\"\n              onClick={toggleDropdown}\n            >\n              <span>\n                <PlusCircle className=\"h-[160px]\" />\n              </span>\n              Add\n            </Button>\n            <span className=\"px-[8px] text-dropdownMenuBorderColor\"> |</span>\n\n            <p className=\"text-nowrap rounded-[4px] bg-dropdownSecondaryBg px-[4px] py-[2px] text-twelve\">\n              {(field.value || []).length} selected\n            </p>\n          </div>\n\n          <div className=\"relative z-0 flex\">\n            <Tag\n              selectedSkills={field.value || []}\n              onRemoveSkill={(skill) =>\n                field.onChange(\n                  (field.value || []).filter((s: string) => s !== skill)\n                )\n              }\n            />\n\n            {showNewSkillInput && (\n              <div className=\"relative mt-2 flex items-center\">\n                <input\n                  type=\"text\"\n                  value={newSkill}\n                  onChange={handleNewSkillChange}\n                  placeholder=\"New skill\"\n                  className=\"rounded border px-2 py-1\"\n                />\n                <Check\n                  className=\"absolute left-[205px] cursor-pointer\"\n                  onClick={() => handleAddNewSkill(field)}\n                />\n              </div>\n            )}\n          </div>\n\n          {isOpen && (\n            <div\n              ref={dropdownRef}\n              className=\"absolute top-9 z-10 mt-2 h-[200px] max-w-[156px] overflow-y-auto overflow-x-hidden rounded-md border bg-white p-2 shadow-lg\"\n            >\n              <div className=\"relative mb-2\">\n                <MagnifyingGlass className=\"absolute left-1 top-1 text-placeholderColor\" />\n                <input\n                  type=\"text\"\n                  name=\"\"\n                  id=\"\"\n                  placeholder=\"Status\"\n                  value={searchQuery}\n                  onChange={handleSearchChange}\n                  className=\"w-full border-b pl-8 placeholder:text-placeholderColor\"\n                />\n              </div>\n              {filteredSkills.map((skill) => (\n                <div key={skill} className=\"flex items-center gap-2 p-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={(field.value || []).includes(skill)}\n                    onChange={() =>\n                      field.onChange(\n                        (field.value || []).includes(skill)\n                          ? (field.value || []).filter(\n                              (s: string) => s !== skill\n                            )\n                          : [...(field.value || []), skill]\n                      )\n                    }\n                    className=\"h-4 w-4 cursor-pointer\"\n                  />\n                  <span>{skill}</span>\n                </div>\n              ))}\n              <div\n                className=\"mt-2 cursor-pointer p-2\"\n                onClick={handleAddmore}\n              >\n                <span>Add More</span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    />\n  );\n};\n\nexport default Dropdownmenu;\n"],"names":["Dropdownmenu","control","name","isOpen","setIsOpen","useState","searchQuery","setSearchQuery","dropdownRef","useRef","newSkill","setNewSkill","showNewSkillInput","setShowNewSkillInput","skills","toggleDropdown","handleSearchChange","event","target","value","filteredSkills","filter","skill","toLowerCase","includes","handleClickOutside","current","contains","useEffect","document","addEventListener","removeEventListener","handleNewSkillChange","handleAddNewSkill","field","updatedSkills","onChange","handleAddmore","Controller","render","div","className","Button","type","variant","size","onClick","span","PlusCircle","p","length","Tag","selectedSkills","onRemoveSkill","s","input","placeholder","Check","ref","MagnifyingGlass","id","map","checked"],"mappings":"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"}